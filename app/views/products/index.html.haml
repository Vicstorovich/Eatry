%article.col-xs-12.maincontent
  %header.page-header
    %h1.page-title Products
    %p= link_to 'Back', root_path
  .col-md-10.col-md-offset-2.col-sm-8.col-sm-offset-2
    .panel.panel-default
      .panel-body.jumbotron
        %h3.thin.text-center Products list
        %table.table.table-sm
          - @products.each do |product|
            %thead
              %tr{:class => "#{cycle('list_line_odd', 'list_line_even')}"}
                %th Image
                %th Title
                %th Description
                %th Price
                %th Action
                %th Action
                %th Action
                %th Add to cart
                %th Add to cart button
            %tbody
              %tr
                %td
                  = image_tag(product.image_url, class: 'list_image')
                %td
                  = product.title
                %td
                  = truncate(strip_tags(product.description), length: 80)
                %td
                  = number_to_currency(product.price)
                %td
                  = link_to 'Show', product
                %td
                  = link_to 'Edit', edit_product_path(product)
                %td
                  = link_to 'Destroy', product, method: :delete, data: { confirm: 'Are you sure?' }
                %td
                  = form_tag line_items_path do
                    = hidden_field_tag :product_id, product.id
                    = submit_tag "Add to Cart"
                %td
                  = button_to 'Add to Cart', line_items_path(product_id: product)
        = link_to 'New Product', new_product_path
